(window.MIP=window.MIP||[]).push({name:"mip-share",func:function(){define("mip-share/share/aio",[],function(){!function(e,t){function i(e,t){return d.cleanObj.toString.call(e).slice(8,-1)===t}function n(e){var t=u[e];if(t)return t.exports;throw"module "+e+" is undefined"}function o(e,t){for(var i,o,r=e.split(":"),a=r.pop().split("/"),s=d;i=a.shift();)"bdbox"!==i&&(o=i,a.length&&(s=s[i]=s[i]||{}));var c=u[e]={exports:{}},l=d.isFunction(t)?t.apply(c,[n,c.exports,c,d]):t;l&&(c.exports=l),s[o]=c.exports}function r(){m.forEach(function(e){e()}),m.length=0,h=!0}function a(e){var t;return null==e?t=String(e):(t=Object.prototype.toString.call(e).toLowerCase(),t=t.substring(8,t.length-1)),t}function s(t){var i=t.success||v,n={imageUrl:"",mediaType:"all",title:"",content:"",linkUrl:location.href},o=t.error||v;return d.isFunction(t.success)&&(i="_xSHARE_SUCCESS_"+d.getId(),e[i]=t.success,n.success=i),d.isFunction(t.error)&&(o="_xSHARE_FAIL_"+d.getId(),e[o]=t.error,n.error=o),d.each(t,function(e,i){"success"!==i&&"error"!==i&&(i in b?i=b[i]:"content"!==i||t.title||(n.title=e),n[i]=e)}),d.isArray(n.mediaType)&&(n.mediaType="all"),e.BoxShareData||(e.BoxShareData={successcallback:i,errorcallback:o,options:n}),n}var c=+new Date,l=(c+"").slice(-3),p=navigator.userAgent,d={isBox:/ baiduboxapp\//i.test(p),isIOS:/(iPhone|iPod|iPad)/.test(p),isAndroid:/(Android);?[\s\/]+([\d.]+)?/.test(p),getId:function(){return l++},emptyArr:[],emptyFn:function(){},cleanObj:{},byId:function(e){return d.isString(e)?t.getElementById(e):e},toArray:function(e){return d.emptyArr.slice.call(e)},$:function(e,i){return i=i&&1===i.nodeType?i:t,d.toArray(i.querySelectorAll(e))}};"Function,String,Array,Number,RegExp".replace(/[^, ]+/g,function(e){d["is"+e]=function(t){return i(t,e)}}),d.isBoolean=function(e){return!0===e||!1===e},d.isObject=function(e){return"object"==typeof e},d.isUndefined=function(e){return void 0===e},d.isWindow=function(e){return null!=e&&e==e.window},d.isPlainObject=function(e){return d.isObject(e)&&!d.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype};var u={};d.define=o;var f=function(e,t,i){for(var n,o,r=e.split("."),a=i||f;n=r.shift();)"Box"!==n&&(o=n,r.length&&(a=a[n]=a[n]||{}));return a[o]=t||{},a[o]},m=[],h=!1;if(f.init=function(e){return"function"!=typeof e?this:(h?e():m.push(e),this)},"complete,loaded,interactive".indexOf(t.readyState)>-1&&t.body?r():t.addEventListener("DOMContentLoaded",r,!1),o("common:bdbox/utils/getVersion",function(t,i,n){var o=function(){var t=0;if(e.baiduboxapp_version)t=e.baiduboxapp_version;else{var i,n=navigator.userAgent;(i=/([\d+.]+)_(?:diordna|enohpi)_/.exec(n))?(i=i[1].split("."),t=i.reverse().join(".")):(i=/baiduboxapp\/([\d+.]+)/.exec(n))&&(t=i[1])}return o=function(){return t},t};n.exports=o}),o("common:bdbox/utils/version_compare",function(e,t,i){var n=function(e,t){t+="",e+="";for(var i=e.split("."),n=t.split("."),o=0,r=Math.max(i.length,n.length);r>o;o++){if(i[o]&&!n[o]&&parseInt(i[o])>0||parseInt(i[o])>parseInt(n[o]))return 1;if(n[o]&&!i[o]&&parseInt(n[o])>0||parseInt(i[o])<parseInt(n[o]))return-1}return 0};i.exports=n}),o("common:bdbox/ios/invokeApp",function(i,n,o,r){o.exports=function(i,n,o){if(i&&r.isBox){var a=[];if(r.isFunction(n))o=n;else for(var s in n)a.push(s+"="+n[s]);if(r.isFunction(o)){var c="_bdbox_js_"+r.getId();e[c]=function(){o.apply(e,[].slice.call(arguments,0))},a.push("func="+c)}else o&&a.push("func="+o);a="baiduboxapp://"+i+"?"+a.join("&");var l="_bdbox_ios_jsbridge",p=t.getElementById(l);p?p.src=a:(p=t.createElement("iframe"),p.style.display="none",p.id=l,p.src=a,(t.body||t.getElementsByTagName("body")[0]).appendChild(p))}}}),o("common:bdbox/android/invokeApp",function(t,i,n,o){function r(t,i,n){if(n&&!o.isArray(n)&&(n=Array.prototype.slice.call(arguments,0).slice(2)),e[t]&&e[t][i]){return{error:0,result:e[t][i].apply(e[t],n),__from:"js"}}var r=c();if(s(r,4.8)>=0){var l=a(t,i,n);return l=l?JSON.parse(l):{},l.__from="app",l}if("4.7.1"===r||"4.7"==r){return{error:0,result:a(t,i,n),__from:"app4.7"}}return{error:200}}function a(t,i,n){if(!o.isBox)return{error:201};if(!o.isAndroid)return{error:202};var r={obj:t,func:i,args:n?n:[]};try{return e.prompt("BdboxApp:"+JSON.stringify(r))}catch(e){return{error:201}}}var s=t("common:bdbox/utils/version_compare"),c=t("common:bdbox/utils/getVersion");n.exports=r}),o("common:bdbox/utils/detect",function(t,i,n,o){function r(t){var i={name:"unknown",version:0};this===e||this.os||(this.os=i),t=t||navigator.userAgent;var n={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var o in n)n.hasOwnProperty(o)&&(i["is"+o]=n[o].test(t));i.isUC=t.match(/UC/)||e.ucweb||e.ucbrowser;var r=t.match(/(Android);?\s+([\d.]+)?/);if(r)return i.android=!0,i.version=r[2],i.name="android",i;var a=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/);return c&&!s?(i.ios=i.iphone=!0,i.version=c[2].replace(/_/g,"."),i.name="ios",i):a?(i.ios=i.ipad=!0,i.name="ios",i.version=a[2].replace(/_/g,"."),i):s?(i.name="ios",i.ios=i.ipod=!0,i.version=s[3]?s[3].replace(/_/g,"."):null,i):i}r.apply(o),n.exports=r}),o("common:bdbox/each",function(e,t,i){function n(e){var t;return null==e?t=String(e):(t=Object.prototype.toString.call(e).toLowerCase(),t=t.substring(8,t.length-1)),t}i.exports=function(e,t,i){if("object"==typeof e){var o,r,a=n(e);if(i=i||e,"array"===a||"arguments"===a||"nodelist"===a){for(o=0,r=e.length;r>o;o++)if(!1===t.call(i,e[o],o,e))return}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(i,e[o],o,e))return}}}),o("common:bdbox/client/nativeShare",function(i,n,o,r){function a(t){var i={wechatIcon:location.protocol+"//m.baidu.com/static/search/logo300.png",type:"url",mediaType:"all",linkUrl:location.href,title:c.title,success:"console.log",error:"console.log"};each(t||{},function(e,t){i[t]=e}),i.image&&(i.imageUrl=i.image),i.iconUrl&&!i.imageUrl&&"url"===i.type&&(i.imageUrl=i.iconUrl);var n={};["success","error"].forEach(function(t){var o=t;r.isFunction(i[t])&&(o="_xSHARE_SUCCESS_"+r.getId(),e[o]=i[t]),n[t+"callback"]=o,delete i[t]}),n.options=i,n.options.imageUrl&&r.isAndroid&&s(r.version,"6.5")<0&&delete n.options.imageUrl,e.BoxShareData=n;var o=i.wechatIcon;if(/micromessenger\//i.test(navigator.userAgent)&&o&&o.length>20){var a=c.createElement("div");a.id="wa-generalevent-wx-logo",a.style.display="none",a.innerHTML='<img src="'+o+'"/>';var l=c.body.firstChild;l?c.body.insertBefore(a,l):c.body.appendChild(a)}}var s=i("common:bdbox/utils/version_compare"),c=t;o.exports=a}),o("common:bdbox/utils/ready",function(e,i,n){function o(){a.forEach(function(e){e()}),a.length=0,s=!0}function r(e){"function"==typeof e&&(s?e():a.push(e))}var a=[],s=!1;"complete,loaded,interactive".indexOf(t.readyState)>-1&&t.body?o():t.addEventListener("DOMContentLoaded",o,!1),n.exports=r}),d.version=d.utils.getVersion(),d.version_compare=d.utils.version_compare,each=d.each,d.nativeShare=d.client.nativeShare,d.type=a,d.canI=function(e,t,i){return d.version_compare(d.version,e)>=0?d.isFunction(t)&&t():d.isFunction(i)&&i(),d},o("common:bdbox/client/o2o",function(e,t,i,n){var o=e("common:bdbox/android/invokeApp"),r=e("common:bdbox/ios/invokeApp"),a=encodeURIComponent,s=e("common:bdbox/each"),c=n.isAndroid?function(e,t){n.isObject(e)&&(t=e,e=e.url,delete t.url);var i=["S.bdsb_light_start_url="+a(e)];if(n.isObject(t)){var r={color:"i.extra_actionbar_color_id",appid:"S.bdsb_wallet_appid"};s(t,function(e,t){"color"===t&&(e=4278190080|parseInt("0x"+e)),t=r[t]||t,i.push(t+"="+e)})}i=i.join(";"),o("Bdbox_android_utils","command",[JSON.stringify({intent:"intent:#Intent;"+i+";end",class:"com.baidu.searchbox.wallet.WalletServiceActivity",min_v:"16783629",mode:"0"})])}:function(e,t){n.isObject(e)&&(t=e,e=e.url,delete t.url);var i={openurl:a(e),minver:"5.3.0.0",isla:0,opentype:1,append:0,rbtnstyle:2};if(n.isObject(t)){var o={color:"barcolor"};s(t,function(e,t){t=o[t]||t,i[t]=e})}i.appid&&(i.isla=1),r("easybrowse",i)};i.exports=c}),d.o2o=d.client.o2o,"android"===d.os.name?f("card",{query:function(e,t){if(f.version_compare(f.version,"5.0")<0)return this;var i,n;f.isArray(e)?i=[JSON.stringify(e)]:(n=f.toArray(arguments),t=n.pop(),f.isFunction(t)?i=n:(i=f.toArray(arguments),t=null),i=[JSON.stringify(i)]);var o=f.android.invokeApp("Bdbox_android_card","mquery",i);return o=0===o.error&&o.result?JSON.parse(o.result):!1,f.isFunction(t)&&t(o),o},add:function(t,i){if(f.version_compare(f.version,"5.0")<0)return this;var n,o;f.isString(t)?n=[t]:f.isArray(t)?n=[JSON.stringify(t)]:(o=f.toArray(arguments),i=o.pop(),f.isFunction(i)?n=o:(n=f.toArray(arguments),i=null),n=[JSON.stringify(n)]);var r=null;if(f.version_compare(f.version,"5.5")>=0){var a="";f.isFunction(i)&&(a="__box_card_"+f.getId(),e[a]=function(e){var t=JSON.parse(e),n=!1;for(var o in t){n=t[o].st;break}i(n)}),r=f.android.invokeApp("Bdbox_android_card","madd",n.concat([a,0]))}else r=f.android.invokeApp("Bdbox_android_card","madd",n);return r}}):f("card",{query:function(e,t){if(f.version_compare(f.version,"5.0")<0)return this;var i,n;f.isArray(e)?i=[JSON.stringify(e)]:(n=f.toArray(arguments),t=n.pop(),f.isFunction(t)?i=n:(i=f.toArray(arguments),t=null),i=[JSON.stringify(i)]);var o=function(e){f.isFunction(t)&&t(JSON.parse(e)),o=null};f.ios.invokeApp("cardMquery",{params:encodeURIComponent(i)},o)},add:function(e,t){if(f.version_compare(f.version,"5.0")<0)return this;var i,n;f.isString(e)?i=[e]:f.isArray(e)?i=[JSON.stringify(e)]:(n=f.toArray(arguments),t=n.pop(),f.isFunction(t)?i=n:(i=f.toArray(arguments),t=null),i=[JSON.stringify(i)]);var o=function(e){var i=JSON.parse(e),n=!1;for(var r in i){n=i[r].st;break}f.isFunction(t)&&t(n),o=null};return f.ios.invokeApp("cardMadd",{params:encodeURIComponent(i),gohome:"0"},o),!0}}),o("common:bdbox/utils/jsonToQuery",function(e,t,i,n){i.exports=function(e){if(n.isString(e))return e;var t=[];for(var i in e)t.push(i+"="+e[i]);return t.join("&")}}),o("common:bdbox/io/loadJS",function(i,n,o,r){function a(i,n,o){var a,l,p,d=t.createElement("script");r.isString(i)?(a=i,r.isFunction(n)&&(o=n,n=null)):(a=i.url,n=i.data,o=i.success,l=i.error||r.emptyFn,p=i.timeout),r.isObject(n)&&(n=c(n)),n&&(a+=(-1===a.indexOf("?")?"?":"&")+n),a=a.replace(/[&?]{1,2}/,"?");var u;/=\?/.test(a)&&(u="_box_jsonp"+r.getId(),a=a.replace(/=\?/,"="+u));var f=s();p=p||2e4,d.type="text/javascript",d.src=a;var m,h=!0,g=function(){u&&delete e[u],m&&clearTimeout(m),d.onload=d.onreadystatechange=d.onerror=null,d=null},b=function(){!d||d.readyState&&!/loaded|complete/.test(d.readyState)||(g(),h&&r.isFunction(o)&&o.apply(null,r.toArray(arguments)),h=!1)},v=function(e){g(),h&&l(e),h=!1};u&&(e[u]=b),m=setTimeout(function(){g(),h&&l("timeout"),h=!1},p),d.onload=d.onreadystatechange=d.onerror=b,d.onerror=v,f.appendChild(d)}function s(){return t.head||t.getElementsByTagName("head")[0]||t.documentElement}var c=i("common:bdbox/utils/jsonToQuery");r.emptyFn,o.exports=a}),o("common:bdbox/utils/queryToJson",function(e,t,i){i.exports=function(e){try{e=e?decodeURIComponent(e):""}catch(t){e=""}var t=e.split("?"),i=t[1]?t[1]:t[0],n=i.split("&"),o={};return n.forEach(function(e){e=e.split("="),e[0].length>0&&(o[e[0]]=e[1]||"")}),o}}),o("common:bdbox/extend",function(e,t,i,n){function o(e,t,i){for(var n in t)i&&(r(t[n])||a(t[n]))?(r(t[n])&&!r(e[n])&&(e[n]={}),a(t[n])&&!a(e[n])&&(e[n]=[]),o(e[n],t[n],i)):c(t[n])||(e[n]=t[n])}var r=n.isPlainObject,a=n.isArray,s=n.isBoolean,c=n.isUndefined;i.exports=function(e){var t,i=n.emptyArr.slice.call(arguments,1);return s(e)&&(t=e,e=i.shift()),i.forEach(function(i){o(e,i,t)}),e}}),o("common:bdbox/utils/ready",function(e,i,n){function o(){a.forEach(function(e){e()}),a.length=0,s=!0}function r(e){"function"==typeof e&&(s?e():a.push(e))}var a=[],s=!1;"complete,loaded,interactive".indexOf(t.readyState)>-1&&t.body?o():t.addEventListener("DOMContentLoaded",o,!1),n.exports=r}),o("common:bdbox/utils/detect",function(t,i,n,o){function r(t){var i={name:"unknown",version:0};this===e||this.os||(this.os=i),t=t||navigator.userAgent;var n={Weibo:/weibo/i,Wechat:/micromessenger\//i,QQ:/QQ\//};for(var o in n)n.hasOwnProperty(o)&&(i["is"+o]=n[o].test(t));i.isUC=t.match(/UC/)||e.ucweb||e.ucbrowser;var r=t.match(/(Android);?\s+([\d.]+)?/);if(r)return i.android=!0,i.version=r[2],i.name="android",i;var a=t.match(/(iPad).*OS\s([\d_]+)/),s=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/);return c&&!s?(i.ios=i.iphone=!0,i.version=c[2].replace(/_/g,"."),i.name="ios",i):a?(i.ios=i.ipad=!0,i.name="ios",i.version=a[2].replace(/_/g,"."),i):s?(i.name="ios",i.ios=i.ipod=!0,i.version=s[3]?s[3].replace(/_/g,"."):null,i):i}r.apply(o),n.exports=r}),o("common:bdbox/schema",function(e,i,n,o){function r(e,i){if(e){if(i=i||o.emptyFn,!o.isBox&&o.isIOS&&c(s.version,"9.0")>=0)return void l(function(){a(e,i)});var n=Date.now(),r=t.createElement("IFRAME");r.src=e,r.style.position="absolute",r.style.left="-2000px",r.style.top="-1000px",r.style.width="1px",r.style.height="1px",r.style.webkitTransition="all 0.9s",r.style.transition="all 0.9s",t.body.appendChild(r);var p=function(){t.body.removeChild(r),i(Date.now()-n<1500?!0:!1)};r.addEventListener("webkitTransitionEnd",p,!1),r.addEventListener("transitionEnd",p,!1),setTimeout(function(){r.style.left="-1000px"},20)}}function a(e,t){location.href=e,p&&clearTimeout(p),p=setTimeout(function(){t(!0)},1200)}var s=e("common:bdbox/utils/detect")(),c=e("common:bdbox/utils/version_compare"),l=e("common:bdbox/utils/ready"),p=null;n.exports=r}),o("common:bdbox/monitor",function(t,i,n,o){var r=encodeURIComponent,a=function(e,t){e+=e.indexOf("?")<0?"?":"&",this.url=e,this.options=t};a.prototype.report=function(t){t=t||"";var i=new Image(1,1),n=[];if(o.isObject(t)){for(var a in t)n.push(a+"="+r(String(t[a])));t=n.join("&")}var s="_box_mt"+o.getId();e[s]=i,i.onload=i.onerror=i.onabort=function(){i.onload=i.onerror=i.onabort=null,e[s]=i=null};var c=this.url+t;return o.isFunction(this.options.customHandler)&&(c=this.options.customHandler(c)),i.src=c+"&_rnd="+Math.floor(2147483648*Math.random()),this},a.prototype.main=function(e,t){return e&&o.isFunction(this[e])&&this[e].apply(this,o.toArray(t||[])),this},n.exports=function(e,t){return new a(e,t)}}),o("common:bdbox/clone",function(e,t,i){var n=Object.prototype.toString,o=function(e,t,i){var n=0;for(var o in e)if(e.hasOwnProperty(o))if(i)t[o]=e[o];else if(t(o,e[o],n++))break},r=function(e){var t;switch(n.call(e)){case"[object Object]":t={},o(e,function(e,i){t[e]=r(i)});break;case"[object Array]":t=[],e.forEach(function(e){t.push(r(e))});break;default:t=e}return t};i.exports=r}),o("common:bdbox/monitor/pblog",function(e,t,i,n){var o=e("common:bdbox/monitor"),r=e("common:bdbox/extend"),a=e("common:bdbox/utils/queryToJson"),s=e("common:bdbox/utils/getVersion"),c=e("common:bdbox/clone"),l=a(location.search),p=navigator.userAgent,d="//m.baidu.com/tcbox",u={service:"bdbox",action:"pblog",ctv:2,cen:"uid_ua_ut",data:{appid:"1",dataid:"2",actiontype:"1",actionid:"2",actiondata:{ref:l.ref||"",gmv:l.vmgdb||"",source:l.from||l.ref||"",boxVersion:s(),boxPlatform:p.match(/(iPad|iPhone|iPod)/gim)?"ios":"android"}}},f=encodeURIComponent;l.uid&&l.osname&&["osname","ua","ut","from","cfrom","uid","pkgname"].forEach(function(e){l[e]&&(u[e]=l[e])});var m,h=o(d,{customHandler:function(e){var t=[];if(m)for(var i in m)if(m.hasOwnProperty(i)){var o=m[i];n.isPlainObject(o)&&(o=JSON.stringify(o)),t.push(i+"="+f(o))}return t.length&&(e+=t.join("&")),e}});h.init=function(e,t){n.isPlainObject(t)&&(u=r(u,t)),u.data.cateid=e},h.pv=function(e,t){m=c(u);var i=m.data;i.actionid="1";var n={};return n.url=e||location.href,t&&(n.u=t),i.actiondata=r(i.actiondata,n),h.report()},h.event=function(e,t,i){if(!e)throw"monitor.tc.event need a evtName";if(n.isPlainObject(t)&&!i){var o={evtName:e};for(var a in t)o[a]=t[a]}else var o={evtName:e,evtType:t||"",evtTag:i||""};m=c(u);var s=m.data;return s.actionid="2",s.actiondata=r(s.actiondata,o),h.report()},i.exports=function(){h.main.apply(h,arguments)}}),o("common:bdbox/moplus",function(e,t,i,n){var o=e("common:bdbox/utils/jsonToQuery"),r=e("common:bdbox/io/loadJS"),a=e("common:bdbox/utils/version_compare"),s=e("common:bdbox/monitor/pblog"),c=e("common:bdbox/schema"),l="com.baidu.searchbox",p="http://127.0.0.1:6259/",d="http://127.0.0.1:40310/",u="inapp_boxserver",f="https:"===location.protocol,m=null,h="__moplus_host__",g={isSendPv:!1,isHit:!1,parseUA:function(){var e,t,i=navigator.userAgent,n={uc:/UCBrowser\/(\S*) \S*/g,bd:/baidubrowser\/(\S*) \(Baidu/g,qq:/MQQBrowser\/(\S*) Mobile/g,chr:/Chrome\/(\S*) Mobile/g,qh:/360 Aphone Browser \((\S*)\)/g,sg:/SogouMobileBrowser\/(\S*)/g,mi:/MiuiBrowser\/(\S*)/g};for(var o in n){var r=n[o].exec(i);if(r){e=o,t=r[1];break}}return e=e?e:"other",t=t?t:"0",{t:e,v:t}},parseHost:function(){return b.curHost===d?1:0},sendEvt:function(e,t,i,n){this.isHit&&this.send(e,t,i,n)},send:function(e,t,i,n){var o=this.parseUA(),r=o.t,a=o.v,c=f?0:1,l=this.parseHost();s("event",[e,{evtType:t||"",brName:r,brVer:a,isHttp:c,isNew:l,source:i||"",intent:n||""}])},init:function(){this.isHit=Date.now()%100==1,s("init",[2])}},b=function(e,t,i){this.version="2.0",this.isHttps=f,this.curHost=i||"",this.newHost=d,this.oldHost=this.isHttps?d:p,this.MCMDF=t||u,this._infoFuncs=[],this._verFuncs=[],this.minVersion=e?e:0,this.pkgName=l,g.init()},v=function(e,t){try{sessionStorage.setItem(e,t)}catch(e){}},w=function(e){var t;try{t=sessionStorage.getItem(e)}catch(e){}return t};b.prototype={constructor:b,setMcmdf:function(e){return this.MCMDF=e,this},setHost:function(e){return this.curHost=e,v(h,e),this},getHost:function(){if(this.isHttps)return this.curHost=this.newHost,this.newHost;var e=w(h);return e?(this.curHost=e,this.curHost):void 0},api:function(e,t,i,r){if(!e)throw"Moplus.api need an action";n.isFunction(t)&&(r=i,i=t,t={});var a=e+(~e.indexOf("?")?"&":"?")+o(t);return~a.indexOf("mcmdf")||(a+="&mcmdf="+this.MCMDF),g.sendEvt("api","send:"+e,this.MCMDF,a),this.request(a,function(t){g.sendEvt("api",(n.isPlainObject(t)&&0==t.error?"success:":"fail:")+e,this.MCMDF,a),i(t)},r)},getInfo:function(e,t){if(m)return e(m);if(this._infoFuncs.push(e),!(this._infoFuncs.length>1)){var i=this,o=function(e,t){!t&&n.isPlainObject(e)&&(m=e);var o;for(t&&(e={error:33});o=i._infoFuncs.shift();)o(e)},a="getsearchboxinfo?mcmdf="+this.MCMDF;if(this.getHost()){var s={url:this.curHost+a+"&callback=?",success:o,error:function(){o(null,!0)},timeout:t};r(s)}else this.request(a,function(e){return 33===e.error?o(null,!0):void o(e)},t);return this}},getHVersion:function(e,t){this._verFuncs.push(e);var i=this;if(!(this._verFuncs.length>1)){var n=function(e){var t;for(e=i.parseInfo(e);t=i._verFuncs.shift();)t(e)};return this.getInfo(n,t),this}},parseInfo:function(e,t){e=e||m,t=t||this.minVersion;var i=e.package_infos;if(!i||0===i.length)return!1;var n=l,o={offic:{name:l,version:0},oem:{version:0}};return i.forEach(function(e){var i=e.version_name,r=e.package_name;a(i,t)>=0&&(r===n?1===a(i,o.offic.version)&&(o.offic={version:i,name:l}):1===a(i,o.oem.version)&&(o.oem={version:i,name:r}))}),0===o.oem.version&&0===o.offic.version?!1:0!==o.offic.version?o.offic:0!==o.oem.version?o.oem:void 0},schema:function(e,t){if(!e.intent)throw"schema intent is empty";e.mcmdf||(e.mcmdf=this.MCMDF);var i=function(){g.send("schema","success",e.source,e.intent),n.isFunction(t)&&t({error:0,from:"schema"})},o=function(){g.send("schema","fail",e.source,e.intent),n.isFunction(t)&&t({error:20,from:"schema"})},r=e.schema||"";if(e.intent&&!e.schema)-1==e.intent.indexOf(l)&&(g.sendEvt("defaultPKGName","fail",e.source||"",e.intent),e.minver=e.minver?e.minver:"6.9.1");r||(r="baiduboxapp://utils?action=sendIntent&params="+encodeURIComponent(JSON.stringify(e))+"&minver="+(e.minver?e.minver:"6.9")),c(r,function(e){e?o():i()})},sendIntent:function(e,t,i){var o={};if(e&&n.isString(e)){var r,a=this,s=!0;return n.isPlainObject(i)?(o=i,r=i.source||"",i.needlog?g.isHit=i.needlog:o.needlog=g.isHit?1:0,i=i.timeout):n.isBoolean(i)&&(s=i),o.intent=e,g.send("sendintent","send",r,e),this.api("sendintent",{intent:encodeURIComponent(e)},function(i){!i||i&&33===i.error||!n.isPlainObject(i)?(g.send("sendintent","fail",r,e),s?a.schema(o,t):(i=i||{},i.from="moplus",t(i))):(g.send("sendintent","success",r,e),t(i))},i)}return this},request:function(e,t,i){var o,a,s=this,c={timeout:i};n.isFunction(t)&&!~e.indexOf("callback=")&&(e+="&callback=?");var l=function(e){o="success",n.isFunction(t)&&t(e)},p=function(){n.isFunction(t)&&t({error:33})};if(s.getHost())c.url=s.curHost+e,c.success=l,c.error=p,r(c);else if(c.url=s.newHost+e,c.success=function(e){"success"!==o&&(a&&clearTimeout(a),s.setHost(s.newHost),l(e))},c.error=function(){s.isHttps?(o="error",p()):"error"===o&&p(),o="error"},r(c),!s.isHttps){var d={timeout:i,url:s.oldHost+e,error:c.error};d.success=function(e){"success"!==o&&("error"===o?(s.setHost(s.oldHost),l(e)):a=setTimeout(function(){s.setHost(s.oldHost),l(e)},500))},r(d)}return this}},i.exports=function(e,t){return new b(e,t)},i.exports.Moplus=b}),d.version_compare(d.version,"5.3.5")>=0){var g,b={image:"imageUrl",url:"linkUrl",order:"mediaType"},v="";e[v]=d.emptyFn,d.isAndroid?(g=function(e){if(e.id&&d.byId(e.id)){var t=e.eventType||"touchstart";d.byId(e.id).addEventListener(t,function(){i(e)},!0)}var i=function(t){t=s(t||e);var i=t.error,n=t.success;t.iconUrl&&t.imageUrl&&delete t.imageUrl,d.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(t),n||"console.log",i||"console.log"])};return i},f("share",g)):(g=function(e){if(e.id&&d.byId(e.id)){var t=e.eventType||"touchstart";d.byId(e.id).addEventListener(t,function(){i(e)},!0)}var i=function(t){t=s(t||e);var i=t.error,n=t.success;t.iconUrl&&!t.imageUrl&&(t.imageUrl=t.iconUrl),t=JSON.stringify(t),d.ios.invokeApp("callShare",{options:encodeURIComponent(t),errorcallback:i||"console.log",successcallback:n||"console.log"})};return i},f("share",g))}else{var w=[],x=function(){f._socShare&&f._socShare.init?w.forEach(function(e){f._socShare.init(e)}):setTimeout(x,3e3)};d.io.loadJS("//m.baidu.com/static/searchbox/openjs/share.js?v=1.2",x);var y={source:"client_id",id:"dom_id",image:"pic_url",success:"afterRender"},g=function(e){var t={content:"",client_id:"ZVEpDSsmZ0qxa1gmgDAh1Fje",theme:"native",dom_id:"share",animate:!0,pic_url:"",url:encodeURIComponent(location.href)};return d.isObject(e)&&d.each(e,function(e,i){if(i in y&&(i=y[i]),"order"===i&&d.isArray(e)){var n=[];e.forEach(function(e){"email"===e&&(e="mail"),n.push(e)})}t[i]=e}),delete t.success,delete t.error,delete t.afterRender,"all"===t.order?t.order=["qqdenglu","sinaweibo","renren","kaixin","mail","sms"]:d.isString(t.order)&&(t.order=t.order.split(",")),f._socShare&&f._socShare.init?f._socShare.init(t):w.push(t),function(){f._socShare.ui._shareBtnClickHandler()}};f("share",g)}if(o("common:bdbox/distribute",function(e,t,i,n){var o=e("common:bdbox/schema");e("common:bdbox/utils/detect");var r=e("common:bdbox/each"),a=e("common:bdbox/moplus"),s=n.emptyFn,c={qqDownloadUrl:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.searchbox",androidDownloadUrl:"",iosDownloadUrl:"",iosFailCallback:s,androidFailCallback:s,iosSchema:"",androidSchema:"",androidIntent:"",inBoxCallback:s},l=function(e){var t=this;e&&r(c,function(t,i){e[i]=e[i]||t});var i=this.url=e.url;i&&""!==i?(this.androidIntent="intent://"+i.replace(/^http[s]?:\/\//,"")+"#Intent;scheme=http;action=com.baidu.searchbox.action.VIEW;category=android.intent.category.DEFAULT;end",this.iosSchema="baiduboxapp://easybrowse?openurl="+encodeURIComponent(i)+"&opentype=0&isla=0&append=0&minver=5.3.0.0"):["androidIntent","iosSchema","androidSchema"].forEach(function(i){t[i]=e[i]}),this.options=e,this.fail=function(){if(console.log(n.os.name+" fail"),n.isFunction(e[n.os.name+"FailCallback"])){var t=e[n.os.name+"FailCallback"]();if(n.isBoolean(t)&&!t)return}var i=e[n.os.name+"DownloadUrl"];i&&""!==i&&(location.href=e[n.os.name+"DownloadUrl"])},this.success=function(){return console.log(n.os.name+" success"),n.isFunction(e[n.os.name+"SuccessCallback"])?e[n.os.name+"SuccessCallback"]():void 0}};l.prototype.wechat=function(){var e=this.options;if(n.isFunction(e.wechatCallback)){var t=e.wechatCallback();if(n.isBoolean(t)&&!t)return}e.qqDownloadUrl&&""!==e.qqDownloadUrl&&(location.href=e.qqDownloadUrl)},l.prototype.run=function(){var e=this,t=(e.url,e.options);return n.os.isWechat?e.wechat():n.isBox&&n.isFunction(t.inBoxCallback)?t.inBoxCallback():void this.invoke()},l.prototype.invoke=function(){var e=this;if(n.os.android){var t=a();t.getHVersion(function(i){i?t.sendIntent(e.androidIntent,function(t){0==t.error?e.success():e.fail()},1e3):e.androidSchema?o(e.androidSchema,function(t){t?e.fail():e.success()}):e.fail()})}else o(e.iosSchema,function(t){t?e.fail():e.success()})},i.exports=function(e){return new l(e)}}),each(d,function(e,t){f[t]=e}),e.Box&&e.Box.$)for(var k in f)e.Box[k]=e.Box[k]||f[k];else e.Box=f}(window,document)}),function(e,t){"function"==typeof define&&(define.amd||define.cmd)?define("mip-share/share/weixinsdk.min",[],function(){return t(e)}):t(e,!0)}(window,function(e,t){function i(t,i,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,o(i),function(e){s(t,e,n)}):p(t,n)}function n(t,i,n){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){n&&n.trigger&&n.trigger(e),s(t,e,i)}):n?p(t,n):p(t,i)}function o(e){return e=e||{},e.appId=L.appId,e.verifyAppId=L.appId,e.verifySignType="sha1",e.verifyTimestamp=L.timestamp+"",e.verifyNonceStr=L.nonceStr,e.verifySignature=L.signature,e}function r(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function a(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}function s(e,t,i){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var n=t.errMsg;n||(n=t.err_msg,delete t.err_msg,n=c(e,n),t.errMsg=n),(i=i||{})._complete&&(i._complete(t),delete i._complete),n=t.errMsg||"",L.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var o=n.indexOf(":");switch(n.substring(o+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function c(e,t){var i=e,n=b[i];n&&(i=n);var o="ok";if(t){var r=t.indexOf(":");"confirm"==(o=t.substring(r+1))&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),"access denied"!=(o=(o=o.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=o||(o="permission denied"),"config"==i&&"function not exist"==o&&(o="ok"),""==o&&(o="fail")}return t=i+":"+o}function l(e){if(e){for(var t=0,i=e.length;t<i;++t){var n=e[t],o=g[n];o&&(e[t]=o)}return e}}function p(e,t){if(!(!L.debug||t&&t.isInnerInvoke)){var i=b[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function d(e){if(!(k||A||L.debug||_<"6.0.2"||T.systemType<0)){var t=new Image;T.appId=L.appId,T.initTime=I.initEndTime-I.initStartTime,T.preVerifyTime=I.preVerifyEndTime-I.preVerifyStartTime,D.getNetworkType({isInnerInvoke:!0,success:function(e){T.networkType=e.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+T.version+"&o="+T.isPreVerifyOk+"&s="+T.systemType+"&c="+T.clientVersion+"&a="+T.appId+"&n="+T.networkType+"&i="+T.initTime+"&p="+T.preVerifyTime+"&u="+T.url;t.src=i}})}}function u(){return(new Date).getTime()}function f(t){E&&(e.WeixinJSBridge?t():v.addEventListener&&v.addEventListener("WeixinJSBridgeReady",t,!1))}function m(){D.invoke||(D.invoke=function(t,i,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,o(i),n)},D.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})}function h(e){if("string"==typeof e&&e.length>0){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}if(!e.jWeixin){var g={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},b=function(){var e={};for(var t in g)e[g[t]]=t;return e}(),v=e.document,w=v.title,x=navigator.userAgent.toLowerCase(),y=navigator.platform.toLowerCase(),k=!(!y.match("mac")&&!y.match("win")),A=-1!=x.indexOf("wxdebugger"),E=-1!=x.indexOf("micromessenger"),M=-1!=x.indexOf("android"),S=-1!=x.indexOf("iphone")||-1!=x.indexOf("ipad"),_=function(){var e=x.match(/micromessenger\/(\d+\.\d+\.\d+)/)||x.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),I={initStartTime:u(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},T={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:S?1:M?2:-1,clientVersion:_,url:encodeURIComponent(location.href)},L={},P={_completes:[]},C={state:0,data:{}};f(function(){I.initEndTime=u()});var H=!1,N=[],D={config:function(e){L=e,p("config",e);var t=!1!==L.check;f(function(){if(t)i(g.config,{verifyJsApiList:l(L.jsApiList)},function(){P._complete=function(e){I.preVerifyEndTime=u(),C.state=1,C.data=e},P.success=function(e){T.isPreVerifyOk=0},P.fail=function(e){P._fail?P._fail(e):C.state=-1};var e=P._completes;return e.push(function(){d()}),P.complete=function(t){for(var i=0,n=e.length;i<n;++i)e[i]();P._completes=[]},P}()),I.preVerifyStartTime=u();else{C.state=1;for(var e=P._completes,n=0,o=e.length;n<o;++n)e[n]();P._completes=[]}}),m()},ready:function(e){0!=C.state?e():(P._completes.push(e),!E&&L.debug&&e())},error:function(e){_<"6.0.2"||(-1==C.state?e(C.data):P._fail=e)},checkJsApi:function(e){var t=function(e){var t=e.checkResult;for(var i in t){var n=b[i];n&&(t[n]=t[i],delete t[i])}return e};i("checkJsApi",{jsApiList:l(e.jsApiList)},(e._complete=function(e){if(M){var i=e.checkResult;i&&(e.checkResult=JSON.parse(i))}e=t(e)},e))},onMenuShareTimeline:function(e){n(g.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||w,desc:e.title||w,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){n(g.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?i("sendAppMessage",{title:e.title||w,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):i("sendAppMessage",{title:e.title||w,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){n(g.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){n(g.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){n(g.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||w,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){n("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){n("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(M){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e))},getLocation:function(e){},previewImage:function(e){i(g.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===H?(H=!0,i("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(H=!1,N.length>0){var t=N.shift();wx.getLocalImgData(t)}},e))):N.push(e)},getNetworkType:function(e){var t=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var n=t.indexOf(":"),o=t.substring(n+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e};i("getNetworkType",{},(e._complete=function(e){e=t(e)},e))},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},i(g.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){i("hideOptionMenu",{},e)},showOptionMenu:function(e){i("showOptionMenu",{},e)},closeWindow:function(e){i("closeWindow",{},e=e||{})},hideMenuItems:function(e){i("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){i("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){i("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){i("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){i("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(S){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))},openAddress:function(e){i(g.openAddress,{},(e._complete=function(e){e=a(e)},e))},openProductSpecificView:function(e){i(g.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,n=[],o=0,r=t.length;o<r;++o){var a=t[o],s={card_id:a.cardId,card_ext:a.cardExt};n.push(s)}i(g.addCard,{card_list:n},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,n=(t=JSON.parse(t)).length;i<n;++i){var o=t[i];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){i("chooseCard",{app_id:L.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,n=[],o=0,r=t.length;o<r;++o){var a=t[o],s={card_id:a.cardId,code:a.code};n.push(s)}i(g.openCard,{card_list:n},e)},consumeAndShareCard:function(e){i(g.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){i(g.chooseWXPay,r(e),e)},openEnterpriseRedPacket:function(e){i(g.openEnterpriseRedPacket,r(e),e)},startSearchBeacons:function(e){i(g.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){i(g.stopSearchBeacons,{},e)},onSearchBeacons:function(e){n(g.onSearchBeacons,e)},openEnterpriseChat:function(e){i("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){i("launchMiniProgram",{targetAppId:e.targetAppId,path:h(e.path),envVersion:e.envVersion},e)},miniProgram:{navigateBack:function(e){i("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:(e=e||{}).delta||1}},e)},navigateTo:function(e){i("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)},redirectTo:function(e){i("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)},switchTab:function(e){i("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)},reLaunch:function(e){i("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}}},O=1,j={};return v.addEventListener("error",function(e){if(!M){var t=e.target,i=t.tagName,n=t.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=n.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=t["wx-id"];if(o||(o=O++,t["wx-id"]=o),j[o])return;j[o]=!0,wx.ready(function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})})}}},!0),v.addEventListener("load",function(e){if(!M){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var n=t["wx-id"];n&&(j[n]=!1)}}},!0),t&&(e.wx=e.jWeixin=D),D}}),define("mip-share/share/shareConfig",["require","./weixinsdk.min"],function(e){function t(e,t){var i;for(i in e)if(e.hasOwnProperty(i))if(!1===t.call(e,i,e[i]))break}function i(e){if("string"==typeof e)return e;var t=[];for(var i in e)t.push(i+"="+e[i]);return t.join("&")}function n(e){return e.replace(/^\s+/,function(){return""}).replace(/\s+$/,function(){return""})}function o(e){var t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript";var o,r,a,s,c;if(o=e.url,r=e.data,a=e.success||b,s=e.error||b,c=e.timeout||2e4,"object"==typeof r)r=i(r);if(r)o+=(-1===o.indexOf("?")?"?":"&")+r;o=o.replace(/[&?]{1,2}/,"?");var l;if(/=\?/.test(o))l="_box_jsonp"+Date.now(),o=o.replace(/=\?/,"="+l);n.src=o;var p,d=!0,u=function(){if(l)delete window[l];p&&clearTimeout(p),n.onload=n.onreadystatechange=n.onerror=null,n=null},f=function(e,t){if(n&&(!n.readyState||/loaded|complete/.test(n.readyState))){if(u(),d&&"function"==typeof a)a.apply(null,[].slice.call(arguments));d=!1}},m=function(e){if(u(),d)s(e);d=!1};if(l)window[l]=f;p=setTimeout(function(){if(u(),d)s("timeout");d=!1},c),n.onload=n.onreadystatechange=n.onerror=f,n.onerror=m,t.appendChild(n)}function r(e){if(1!==e.nodeType)return"";else return n(e.innerHTML.replace(/\n/gim,function(){return""}).replace(/<script.*?script>/gim,function(){return""}).replace(/(<.*?>)|(<script>.*?<\/script>)/gim,function(){return""}))}function a(e,t){var i,n,o=document.getElementsByTagName("img"),r=o.length;for(r=r<=10?r:10,i=0;i<r;i++)n=o[i],function(t){var i=document.createElement("img");i.src=t,i.onload=function(){if(i.width>290&&i.height>290)e(i.src)}}(n.src);setTimeout(function(){e(t)},1e3)}function s(e,t){if(!(Math.random()<=.95&&w.indexOf("share_config_random=1")<0))if(e&&t){t=encodeURIComponent(t);var i="300_001",n="//m.baidu.com/tcbox?service=bdbox&action=pblog&data="+encodeURIComponent(JSON.stringify({appid:1,dataid:2,cateid:26,actionid:2,actiontype:"0",actiondata:{type:0,timestamp:Date.now(),content:{page_id:i,logtype:3,type:"c_"+e,msg:t}}})),o="//ispeed.baidu.com/e.gif?t="+Date.now()+"&page_id="+i+"&evt=c_"+e+"&msg="+t,r=[v+n,v+o];r.forEach(function(e){var t=document.createElement("img");t.onload=t.onerror=t.onabort=function(){t=null},t.src=e})}}function c(e,t,i){var n=!!e.debug;if(h){delete e.wx;var r=e.bdbox||{};if(!r.source){if(s("no_bdbox_source",w),n);return}var a={type:"url",mediaType:"all",linkUrl:w,source:r.source};for(var c in e)if("bdbox"!==c)a[c]=e[c];window.__BdboxShare_success__=t||console.log,window.__BdboxShare_fail__=i||console.log,window.BoxShareData={options:a,successcallback:"__BdboxShare_success__",errorcallback:"__BdboxShare_fail__"}}else if(m||g)delete e.bdbox,e.wx=e.wx||{},e.wx.appId=e.wx.appId||"wxadc1a0c6b9096e89",e.wx.jsApiList=e.wx.jsApiList||[],e.wx.jsApiList=e.wx.jsApiList.concat(["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]),o({url:v+e.wx.api,data:{url:encodeURIComponent(w),callback:"?",ts:Date.now()},success:function(o){if(0==o.errno){var r=o.data||{};if(m){u.config({debug:n,jsApiList:e.wx.jsApiList,appId:r.appId,nonceStr:r.nonceStr,timestamp:r.timestamp,signature:r.signature});var a={title:e.title,desc:e.content,link:e.linkUrl,imgUrl:e.iconUrl,success:function(){t&&t()},cancel:function(){i&&i()}};u.ready(function(){u.onMenuShareTimeline(a),u.onMenuShareAppMessage(a),u.onMenuShareQQ(a),u.onMenuShareWeibo(a),u.onMenuShareQZone(a)})}if(g)setShareInfo({title:e.title,summary:e.content,pic:e.iconUrl,url:e.linkUrl,WXconfig:{swapTitleInWX:!1,appId:r.appId,timestamp:r.timestamp,nonceStr:r.nonceStr,signature:r.signature}})}else if(s("wx_gettoken_err",w),n);}})}function l(e,t,i){if("object"==typeof e){d=e;var o=!!e.debug;if(!m||u){if(!g||window.setShareInfo){if(!e.titleDefault)e.titleDefault=x;if(!e.contentDefault)e.contentDefault=y;if(!e.iconUrlDefault)e.iconUrlDefault=k;if(!e.title)if(e.title=n(document.title),!e.title)e.title=e.titleDefault;if(!e.linkUrl)e.linkUrl=w;if(!e.content)e.content=document.body;if(1===e.content.nodeType)e.content=r(e.content);if(!e.content||"string"!=typeof e.content)e.content=e.contentDefault;if(e.content.length>50)e.content=e.content.slice(0,50)+"...";var s=!1;if(!e.iconUrl)a(function(n){if(!s)s=!0,e.iconUrl=n,c(e,t,i)},e.iconUrlDefault);else c(e,t,i)}else if(o);}else if(o);}}function p(e){var t=e;t.channel="pageSeach",t.debug=!1,t.linkUrl=location.href,A.init(t)}var d,u=e("./weixinsdk.min"),f=navigator.userAgent,m=/micromessenger\//i.test(f),h=/ baiduboxapp\//i.test(f),g=/\bqq\b/i.test(f),b=(/\bweibo\b/i.test(f),function(){}),v=location.protocol,w=location.href,x="百度App",y="百度App",k="https://b.bdstatic.com/searchbox/icms/searchbox/img/po/act/newuserredpack/box_logo.png",A={init:function(){var e=arguments;if(m)if(u)l.apply(this,e);else l.apply(this,e);else l.apply(this,e)},update:function(e){if(d)if(t(d,function(t,i){if(null==e[t])e[t]=i}),m){if(u)l.call(this,e)}else l.call(this,e)}};return p.prototype.update=function(e){A.update(e)},p}),define("mip-share/share/detect",["require","zepto"],function(e){function t(){if(o){var e,t="";if(n&&n.os){if(n.os.ios)e="ios";else if(n.os.android)e="android"}else if(o.indexOf("iphone")>-1||o.indexOf("ipod")>-1)e="ios";else e="android";return{n:e,v:t}}}function i(){if(o){var e,t="";if(-1!=o.indexOf("baiduboxapp/"))e="zbios";else if(-1!=o.indexOf("baidubrowser/"))e="bmbadr",t=o.match(/baidubrowser\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else if(-1!=o.indexOf("mqqbrowser/"))e="qq",t=o.match(/mqqbrowser\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else if(-1!=o.indexOf("micromessenger/"))e="wechat",t=o.match(/micromessenger\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else if(-1!=o.indexOf("ucbrowser/"))e="uc",t=o.match(/ucbrowser\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else if(-1!=o.indexOf("sogoumobilebrowser/"))e="sogou",t=o.match(/sogoumobilebrowser\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else if(-1!=o.indexOf("crios/"))e="chrome",t=o.match(/crios\/([\d\.]*)/),t=t&&t[1]?t[1]:"";else e="other";return{n:e,v:t}}}var n=e("zepto"),o=navigator.userAgent.toLowerCase();return{os:t(),browser:i()}}),define("mip-share/share/share",["require","zepto","util","viewer","./aio","./shareConfig","./detect"],function(e){function t(e,t,i){r.sendMessage("mip_share",{key:e,opt:t,app:i})}var i=e("zepto"),n=e("util"),o=n.platform,r=e("viewer"),a=n.dom;e("./aio");var s,c=e("./shareConfig"),l={url:window.location.href,title:"百度搜索有惊喜",content:"百度搜索有惊喜",iconUrl:"//m.baidu.com/se/static/pmd/pmd/share/images/bdu.jpg",custom:[]},p=e("./detect"),d=p.os,u=p.browser,f="zbios"===u.n?1:0,m="uc"===u.n?1:0,h=o.isQQ()&&u.v&&u.v>"5.4"?1:0,g=o.isWechatApp()?1:0,b=new Promise(function(e,t){if(h){var n=document.createElement("script");n.type="text/javascript",n.onload=n.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)e()},n.src="//jsapi.qq.com/get?api=app.share",i("head").append(n)}}),v=function(e,t){if(t)e.url=encodeURIComponent(e.url),e.linkUrl=encodeURIComponent(e.url);if(Box.os.android)Box.android.invokeApp("Bdbox_android_utils","callShare",[JSON.stringify(e),window.successFnName||"console.log",window.errorFnName||"console.log"]);else Box.ios.invokeApp("callShare",{options:encodeURIComponent(JSON.stringify(e)),errorcallback:"onFail",successcallback:"onSuccess"})},w=function(e,i){var n={sinaweibo:["kSinaWeibo","SinaWeibo",11,"新浪微博"],wxfriend:["kWeixin","WechatFriends",1,"微信好友"],pyq:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],qqfriend:["kQQ","QQ","4","QQ好友"],qzone:["kQZone","QZone","3","QQ空间"]},o=i.url,a=i.title,s="";i.content;if(e=""===e?"":"ios"===d.n?n[e][0]:n[e][1],r.isIframed)t(e,i,"uc");if("undefined"!=typeof ucweb)ucweb.startRequest("shell.page_share",[a,a,o,e,"","@"+s,""]);else if("undefined"!=typeof ucbrowser)ucbrowser.web_share(a,a,o,e,"","@"+s,"")},x=function(e,i){var n=e,o={sinaweibo:["kSinaWeibo","SinaWeibo",11,"新浪微博"],wxfriend:["kWeixin","WechatFriends",1,"微信好友"],pyq:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],qqfriend:["kQQ","QQ","4","QQ好友"],qzone:["kQZone","QZone","3","QQ空间"]};e=""===e?"":o[e][2];var a={url:i.url,title:i.title,description:i.content,img_url:"",img_title:"",to_app:e,cus_txt:"请输入此时此刻想要分享的内容"};if(a=""===e?"":a,r.isIframed)t(n,a,"qq");b.then(function(){if("undefined"!=typeof browser&&void 0!==browser.app)browser.app.share(a)})},y=function(){if(i(".c-share-wechat-tips").length)i(".c-share-wechat-tips").show();else{var e=a.create('<div class="c-share-wechat-tips"></div>');document.querySelector("body").appendChild(e),i(".c-share-wechat-tips").on("click",function(){i(this).hide(),clearTimeout(s)})}s=setTimeout(function(){i(".c-share-wechat-tips").hide(),clearTimeout(s)},2e3)},k={key:"pyq",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/pyq.png",title:"朋友圈",cb:function(){var e;if(f)e=function(e){e.mediaType="weixin_timeline",v(e,!1)};else if(m)e=function(e){w("pyq",e)};else if(h)e=function(e){x("pyq",e)};else if(g)e=function(e){y()};return e}()},A={key:"wxfriend",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/wxfriend.png",title:"微信好友",cb:function(){var e;if(f)e=function(e){e.mediaType="weixin_friend",v(e,!1)};else if(m)e=function(e){w("wxfriend",e)};else if(h)e=function(e){x("wxfriend",e)};else if(g)e=function(e){y()};return e}()},E={key:"qqfriend",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/qqfriend.png",title:"QQ好友",cb:function(){var e;if(f)e=function(e){e.mediaType="qqfriend",v(e,!1)};else if(m)e=function(e){w("qqfriend",e)};else if(h)e=function(e){x("qqfriend",e)};return e}()},M={key:"qzone",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/qzone.png",title:"QQ空间",cb:function(){var e;if(f)e=function(e){e.mediaType="qqdenglu",v(e,!1)};else if(m&&"ios"===d.n)e=function(e){w("qzone",e)};else if(h)e=function(e){x("qzone",e)};else e=function(e){var t="url="+encodeURIComponent(e.url)+"&successurl="+encodeURIComponent(window.location.href)+"&summary="+e.content+"&title="+e.title+"&pics="+encodeURIComponent(e.iconUrl);window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+t)};return e}()},S={key:"sinaweibo",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/sinaweibo.png",title:"新浪微博",cb:function(){var e;if(f)e=function(e){e.mediaType="sinaweibo",v(e,!1)};else if(m)e=function(e){w("sinaweibo",e)};else if(h)e=function(e){x("sinaweibo",e)};else e=function(e){window.open("http://v.t.sina.com.cn/share/share.php?url="+encodeURIComponent(e.url)+"&title="+encodeURIComponent(e.title))};return e}()},_={key:"more",icon:"//m.baidu.com/se/static/pmd/pmd/share/images/more.png",title:"更多",cb:function(){var e;if(f)e=function(e){e.mediaType="all",v(e,!1)};else if(m)e=function(e){w("",e)};else if(h)e=function(e){x("",e)};return e}()},I=function(e){if(this.opt=i.extend({},l,e),!this.opt.content)this.opt.content=this.opt.title;if(/^\/\/.+/.test(this.opt.url))this.opt.url="http:"+this.opt.url;if(this.opt.linkUrl=this.opt.url,g){var t={title:this.opt.title,content:this.opt.content,iconUrl:this.opt.iconUrl,wx:{api:this.opt.wechatAPI,jsApiList:[]}};new c(t)}this._init()};return I.prototype={version:"1.0.0",_init:function(){var e=this;e.isRender=!1,e._initShareList()},_initShareList:function(){var e=this,t=[];if(f||m||h||g)t.push(k,A);if(f||m||h)t.push(E);if(t.push(M,S),f||m||h&&"ios"===d.n)t.push(_);t=t.concat(e.opt.custom),e.list=t;var n="";if("array"===i.type(t)&&t.length>0){n+='<div class="c-share-list">';for(var o=t.length,r=Math.ceil(o/4),a=0;a<r;a++){n+='<div class="c-row c-gap-bottom">';for(var s=0;s<4;s++){var c=4*a+s,l=t[c];if(l)n+='<div class="c-span3 c-share-btn c-share-btn-'+l.key+'">',n+='<div class="c-img c-img-s">',n+='<img src="'+l.icon+'" />',n+="</div>",n+='<div class="c-line-clamp1">'+l.title+"</div>";else n+='<div class="c-span3 c-share-btn">';n+="</div>"}n+="</div>"}n+="</div>"}e.$dom_shareList=i(n),e._bindEvent()},_bindEvent:function(){var e=this;e.$dom_shareList.find(".c-share-btn").each(function(t){if(e.list[t])i(this).on("click",function(){e.list[t].cb(e.opt),e._sendLog(e.list[t].key)})})},_sendLog:function(e){var t=this,n={pyq:{ct:40,cst:2},wxfriend:{ct:40,cst:1},qqfriend:{ct:40,cst:5},qzone:{ct:40,cst:3},sinaweibo:{ct:40,cst:4},more:{ct:40,cst:9},close:{ct:40,cst:0}};if(e&&n[e]&&"object"==typeof B&&B.log&&B.log.send){var o=n[e];if(t.opt&&"object"==typeof t.opt.loginfo)o=i.extend(o,t.opt.loginfo);B.log.send(o)}},render:function(e,t){var n=this;if(e&&i(e).length){var o=i(e);if(t&&t.customClassName)n.$dom_shareList.addClass(t.customClassName);if(o.append(n.$dom_shareList),n.isRender=!0,t&&"function"==typeof t.onRender)t.onRender()}},popup:function(t){var n=this,t=t||{};if(n.isRender)n.$dom_shareList=n.$dom_shareList.clone(),n._bindEvent();if(t&&t.customClassName)n.$dom_shareList.addClass(t.customClassName);var o=i('<div class="c-row c-gap-top-large"><div class="c-span12"><div class="c-btn c-share-cancel-btn">取消</div></div></div>');e(["pmd/popup/popup"],function(e){n.sharePopup=new e({content:n.$dom_shareList.add(o),customClassName:"c-share-popup-modal",onOpen:t.onOpen||function(){},onClose:t.onClose||function(){}}),n.sharePopup.$popupContent.css({"max-width":n._horizontalHack()+"px"}),o.on("click",function(){n.sharePopup.closePopup(),n._sendLog("close")})})},close:function(){var e=this;if(e.sharePopup)e.sharePopup.closePopup()},_horizontalHack:function(){var e;if(void 0!=window.orientation){if(0===window.orientation||180===window.orientation)e=Math.min(window.screen.width,i(window).width());else if(90===window.orientation||-90===window.orientation)e=Math.min(window.screen.width,window.screen.height),e=e*i(window).width()/Math.max(window.screen.width,window.screen.height)}else e=Math.min(window.screen.width,window.screen.height);return e},constructor:I},I}),define("mip-share/share",["require","zepto","./share/share"],function(e){function t(e,t){e=i.extend({},o,e);var r=new n(e);r.render(t,{onRender:function(){}}),this.share=r}var i=e("zepto"),n=e("./share/share");n.prototype._sendLog=function(e){var t=this,n={pyq:{ct:40,cst:2},wxfriend:{ct:40,cst:1},qqfriend:{ct:40,cst:5},qzone:{ct:40,cst:3},sinaweibo:{ct:40,cst:4},more:{ct:40,cst:9},close:{ct:40,cst:0}};if(e&&n[e]){var o=n[e];if(t.opt&&"object"==typeof t.opt.loginfo)o=i.extend(o,t.opt.loginfo)}};var o={iconUrl:"//m.baidu.com/se/static/pmd/pmd/share/images/bdu.jpg"};return t}),define("mip-share/mip-share",["require","zepto","customElement","./share"],function(e){var t=e("zepto"),i=e("customElement").create(),n=e("./share");return i.prototype.build=function(){var e=this.element;new n({title:e.getAttribute("title")||document.title,url:e.getAttribute("url")||location.href,content:e.getAttribute("content")||"",iconUrl:e.getAttribute("icon")||"",wechatAPI:e.getAttribute("wechatAPI")||"//po.baidu.com/api/wechat/token.jsonp?app_id=wxadc1a0c6b9096e89"},t(e));var i=t(e).children().not("mip-i-space")[0];this.applyFillContent(i)},i}),define("mip-share",["mip-share/mip-share"],function(e){return e}),function(){function e(e,t){e.registerMipElement("mip-share",t,".c-share-list{background:#fff;padding:17px 21px;margin-top:13px}.c-share-list .c-flexbox,.c-share-list .c-row{width:auto;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-box-pack:justify;-webkit-box-align:stretch;-webkit-box-lines:single;display:-webkit-flex;-webkit-flex-direction:row;-webkit-justify-content:space-between;-webkit-align-items:stretch;-webkit-align-content:flex-start;-webkit-flex-wrap:nowrap}.c-share-list .c-row{margin-right:-1.81818182%;margin-left:-1.81818182%}.c-share-list .c-row-tight{margin-right:-1px;margin-left:0}.c-share-list .c-row-tile{position:relative;margin:0 -0.21rem}.c-share-list .c-row-tile .c-row{padding:0 .21rem}.c-share-list .c-row-top{position:relative;margin-top:-0.1rem}.c-share-list .c-row-top .c-row:first-child{padding-top:.1rem}.c-share-list .c-row-bottom{position:relative;margin-bottom:-0.08rem}.c-share-list .c-row-bottom .c-row:last-child{padding-bottom:.08rem}.c-share-list .c-row *,.c-share-list .c-row-tile *,.c-share-list .c-row-top *,.c-share-list .c-row-bottom *{-webkit-box-sizing:border-box;box-sizing:border-box}.c-share-list .c-span1,.c-share-list .c-span2,.c-share-list .c-span3,.c-share-list .c-span4,.c-share-list .c-span5,.c-share-list .c-span6,.c-share-list .c-span7,.c-share-list .c-span8,.c-share-list .c-span9,.c-share-list .c-span10,.c-share-list .c-span11,.c-share-list .c-span12{position:relative;min-height:1px;padding-right:1.81818182%;padding-left:1.81818182%}.c-share-list .c-span3{width:25%;-webkit-box-flex:3;-webkit-flex:3 3 auto}.c-share-list .c-img{display:block;width:100%;height:0;border:0 none;background:#f7f7f7 url(//m.baidu.com/static/search/image_default.png) center center no-repeat;margin:.04rem 0}.c-share-list .c-img img{width:100%}.c-share-list .c-img-s{padding-bottom:100%}.c-share-list{overflow:hidden;margin-top:0;-webkit-box-sizing:border-box;box-sizing:border-box}.c-share-list .c-line-clamp1{line-height:30px}.c-share-list .c-share-btn{color:#333;text-align:center;font-size:12px}.c-share-list .c-share-btn .c-img{background:#fff;border:1px solid #f0f0f0;border-radius:50%}.c-share-cancel-btn{border-color:#f0f0f0}.c-share-wechat-tips{position:fixed;top:0;left:0;z-index:9999999;width:100%;height:100%;background:rgba(0,0,0,0.6) url(//m.baidu.com/se/static/pmd/pmd/share/images/wxtips.png) right 10px top 10px no-repeat;background-size:50%}.c-popup-wrapper .c-share-popup-modal{background-color:#f0f0f0}.c-share-popup-modal .c-popup-head{display:none}.c-share-popup-modal .c-popup-content{margin:0 auto;padding:21px}")}if(window.MIP)require(["mip-share"],function(t){e(window.MIP,t)});else require(["mip","mip-share"],e)}()}});